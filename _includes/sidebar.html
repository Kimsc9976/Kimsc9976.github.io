<aside class="sidebar">
    <h2>목차</h2>
    <ul>
        {% assign modules = site.data.sidebar_structure %}
        {% if modules %}
        {% for modules in modules %}
        <li>
            {% assign module_name =  modules[0] %}
            {% assign sub_modules =  modules[1] %}
            <span onclick="toggleSubmodules('submodules-{{ forloop.index }}')" style="cursor: pointer;">
                {{ module_name }} [Toggle]
            </span>
            <ul id="submodules-{{ forloop.index }}" style="display: none;">
                {% for submodule in sub_modules %}
                <li>
                    <a href="#">{{ submodule }}</a>
                </li>
                {% endfor %}
            </ul>
        </li>
        {% endfor %}
        {% else %}
        <li>No modules found or data not loaded.</li>
        {% endif %}
    </ul>
</aside>

<script>
    function toggleSubmodules(id) {
        var element = document.getElementById(id);
        if (element.style.display === 'none') {
            element.style.display = 'block';
        } else {
            element.style.display = 'none';
        }
    }
</script>